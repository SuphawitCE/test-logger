# Pomelo.

## node-pmlo-logger ðŸŒ±â¤ï¸ðŸ“¦ðŸŒ³

## Prerequisites

Before you begin, ensure you have met the following requirements:

- You have a Mac / Linux Workstation.
- You have installed the following software:
  -  NodeJS (`~> v12.14.0`)
- You have read all [guides](ttps://pomelofashion.atlassian.net/wiki/spaces/ENG/pages/809566681/JavaScript) and documentation related to this project.

## Using `node-pmlo-logger`

You can use `node-pmlo-logger` within your projects as you would any other NPM package.


```bash
npm install @pomelofashion/node-pmlo-logger
```

```js
const Logger = require('@pomelofashion/node-pmlo-logger');

const logger = Logger.createLogger(opts);
logger.debug(`Event received ${JSON.stringify(event)}`);
```

## Redaction

To redact sensitive information, pass the paths to keys that holds the sensitive data using `readactKeys`.

```js
const sensitiveKeys = ['password', 'user.password', 'token', 'authToken'];

const logger = Logger.createLogger({
  level: 'warn',
  redactKeys: sensitiveKeys
});

logger.info({ user: {
  name: 'Username',
  password: 'password'
}}, 'User object to pass in the request');
```
For more details check [here](https://github.com/pinojs/pino/blob/master/docs/redaction.md)
## Contributing to `node-pmlo-logger`

To contribute to `node-pmlo-logger`, follow these steps:

1. Clone this repository.
2. Read [Running code quality checks](#quality-checks).
3. Create a feature branch: `git checkout -b <branch_name>`.
4. Make your changes and commit them: `git commit -m '<commit_message>'`
5. Push to the original branch: `git push origin <branch_name>`
6. Create the pull request against `develop`.

**<a name="quality-checks"></a>Running code quality checks:**

To ensure the code quality of this project is kept consistent we make use of pre-commit hooks. To install them, run the commands below.

```bash
brew install pre-commit
pre-commit install --install-hooks -t pre-commit -t commit-msg
```

## Contact

If you want to contact someone about this project, please refer to the following channel: `#eng_team_platform`
