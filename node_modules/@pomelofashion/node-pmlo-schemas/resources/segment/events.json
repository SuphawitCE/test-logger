[
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Identify",
    "description": "creates a new account, logs into an existing account, opens the app, starts a web session",
    "properties": {
      "registration_date": {
        "description": "date of the account registration",
        "type": "string",
        "format": "date-time"
      },
      "email": {
        "description": "account email",
        "type": "string"
      },
      "id_customer": {
        "description": "account ID",
        "type": "integer"
      },
      "first_name": {
        "description": "customer firstname",
        "type": "string"
      },
      "last_name": {
        "description": "customer lastname",
        "type": "string"
      },
      "current_app_version": {
        "description": "app version the user is using",
        "type": "string"
      },
      "branch_cpid": {
        "description": "branch cpid",
        "type": "string"
      },
      "iso_code": {
        "description": "shop iso code",
        "type": "string"
      }
    },
    "required": [
      "registration_date",
      "email",
      "id_customer",
      "first_name",
      "last_name",
      "current_app_version",
      "branch_cpid",
      "iso_code"
    ],
    "additionalProperties": false
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Logged In",
    "description": "Sign in to an existing account",
    "properties": {
      "login_method": {
        "description": "login method",
        "type": "string"
      },
      "prompt_location": {
        "description": "where the prompt to login/sign-up appears",
        "type": "string"
      },
      "iso_code": {
        "description": "shop iso code",
        "type": "integer"
      }
    },
    "required": ["login_method", "prompt_location", "iso_code"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Language Selected",
    "description": "change language or shop",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "iso_code": {
        "description": "shop iso code",
        "type": "integer"
      },
      "prompt_location": {
        "description": "where the prompt to login/sign-up appears",
        "type": "string"
      }
    },
    "required": ["id_shop", "iso_code", "prompt_location"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Sign In Viewed",
    "description": "Login/Signup screen is displayed",
    "properties": {
      "prompt_location": {
        "description": "where the prompt to login/sign-up appears",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      }
    },
    "required": ["prompt_location", "id_shop"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Complete Registration",
    "description": "successfully signed up",
    "properties": {
      "signup_method": {
        "description": "sign-up method",
        "type": "string"
      },
      "signup_location": {
        "description": "DEPRECATED - the location at which the user triggers the signup",
        "type": "string"
      },
      "prompt_location": {
        "description": "where the prompt to login/sign-up appears",
        "type": "string"
      },
      "id_lang": {
        "description": "ID of the user's language ",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      }
    },
    "required": [
      "signup_method",
      "signup_location",
      "prompt_location",
      "id_lang",
      "id_shop"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "App Feed Viewed",
    "description": "app feed finished rendering, to be used for triggering the in-app messaging (avoiding a message being sent before the app finished loading)",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "logged_in": {
        "description": "if the user is logged-in during the event",
        "type": "boolean"
      }
    },
    "required": ["id_shop", "logged_in"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product Viewed",
    "description": "a product detail page is viewed",
    "properties": {
      "id_product": {
        "description": "ID of the product",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "color": {
        "description": "color of the product",
        "type": "string"
      },
      "product_name": {
        "description": "name of the product",
        "type": "string"
      },
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "ref_type": {
        "description": "the type of CTA that triggers the user to view the product",
        "type": "string"
      },
      "ref_id": {
        "description": "identifier for the ref_type e.g. app_feed ref_type 123 = campaign id of the app feed item",
        "type": "string"
      },
      "click_position": {
        "description": "the position of the item in the list the user clicked - starting at 1",
        "type": "integer"
      },
      "feed_position": {
        "description": "for app feed clicks, the position of the feed slot the user click - starting at 1",
        "type": "integer"
      },
      "sub_position": {
        "description": "For nested clicks (used by web in the beginning), where it's important to know the the location of the click, and where that element was within the ref_id",
        "type": "integer"
      },
      "color_swatch": {
        "description": "used with Product Viewed triggered by clicking PDP's the interactive color swatch - only sent when true",
        "type": "boolean"
      }
    },
    "required": [
      "id_product",
      "id_shop",
      "color",
      "product_name",
      "id_site_category",
      "site_category_name",
      "ref_type"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product List Viewed",
    "description": "views category or search result",
    "properties": {
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "page_number": {
        "description": "pagination number starting at 1",
        "type": "integer"
      },
      "product_list_ids": {
        "description": "list of the product IDs shown in the list view",
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "sort_by": {
        "description": "how is the product list sorted",
        "type": "string"
      },
      "ref_layout": {
        "description": "DEPRECATED - value is based on the page layout the user was viewing when the event was triggered",
        "type": "string"
      },
      "ref_type": {
        "description": "the type of CTA that triggers the user to view the product list",
        "type": "string"
      },
      "ref_id": {
        "description": "identifier for the ref_type e.g. app_feed ref_type 123 = campaign id of the app feed item",
        "type": "string"
      },
      "click_position": {
        "description": "the position of the item in the list the user clicked - starting at 1",
        "type": "integer"
      },
      "feed_position": {
        "description": "for app feed clicks, the position of the feed slot the user click - starting at 1",
        "type": "integer"
      }
    },
    "required": [
      "id_site_category",
      "site_category_name",
      "id_shop",
      "page_number",
      "product_list_ids",
      "ref_layout",
      "ref_type"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product Added",
    "description": "a product is added to a bag from PDP",
    "properties": {
      "id_product": {
        "description": "ID of the product",
        "type": "string"
      },
      "size": {
        "description": "size of the product",
        "type": "string"
      },
      "color": {
        "description": "color of the product",
        "type": "string"
      },
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "click_position": {
        "description": "the position of the item in the list the user clicked - starting at 1",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "product_name": {
        "description": "name of the product",
        "type": "string"
      },
      "ref_id": {
        "description": "",
        "type": ["string", "integer"]
      },
      "ref_type": {
        "description": "the CTA that finally leads to the product add to cart",
        "type": "string"
      },
      "id_cart": {
        "description": "identifier of the cart",
        "type": "integer"
      }
    },
    "required": [
      "id_product",
      "size",
      "color",
      "id_site_category",
      "site_category_name",
      "id_shop",
      "product_name",
      "id_cart"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Recommended Size Added To Bag",
    "description": "a product is added to bag from recommended size prompt after adding a product to bag",
    "properties": {
      "id_product": {
        "description": "ID of the product",
        "type": "integer"
      },
      "color": {
        "description": "color of the product",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "size": {
        "description": "size of the product",
        "type": "string"
      },
      "ref_type": {
        "description": "",
        "type": "string"
      }
    },
    "required": [
      "id_product",
      "color",
      "id_shop",
      "id_site_category",
      "site_category_name",
      "size",
      "ref_type"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product Removed",
    "description": "a product is removed from a bag",
    "properties": {
      "id_product": {
        "description": "ID of the product",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "stock_available_sku": {
        "description": "number of product in stock",
        "type": "integer"
      },
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      }
    },
    "required": [
      "id_product",
      "id_shop",
      "stock_available_sku",
      "id_site_category",
      "site_category_name"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product Added to Wishlist",
    "description": "a product is added to the wishlist",
    "properties": {
      "id_product": {
        "description": "ID of the product",
        "type": "integer"
      },
      "product_name": {
        "description": "name of the product",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "color": {
        "description": "color of the product",
        "type": "string"
      },
      "price": {
        "description": "price of the product",
        "type": "number"
      },
      "currency": {
        "description": "currency ISO code",
        "type": "string"
      },
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      }
    },
    "required": [
      "id_product",
      "product_name",
      "id_shop",
      "color",
      "price",
      "currency",
      "id_site_category",
      "site_category_name"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Wishlist Viewed",
    "description": "the wishlish is viewed",
    "properties": {
      "ref_type": {
        "description": "The CTA that brings the user to view wishlist",
        "type": "string"
      },
      "ref_id": {
        "description": "the identifier for the ref_id e.g. from branch's campaign this parameter is the value entered in branch links",
        "type": ["string", "integer"]
      },
      "click_position": {
        "description": "refers to the position of each icon/section in 'me page'",
        "type": "integer"
      }
    },
    "required": ["ref_type", "ref_id"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Products Searched",
    "description": "searches for something via search bar",
    "properties": {
      "query": {
        "description": "search query string",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "page_number": {
        "description": "pagination number",
        "type": "integer"
      },
      "sort_by": {
        "description": "sorting condition",
        "type": "string"
      },
      "search_results": {
        "description": "array of first page load of products - up to 20",
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "visual_search": {
        "description": "DEPRECATED - if it is a visual search",
        "type": "boolean"
      },
      "visual_search_method": {
        "description": "DEPRECATED - where was the image used for visual search coming from",
        "type": "string"
      },
      "ref_layout": {
        "description": "DEPRECATED - value is based on the page layout the user was viewing when the event was triggered",
        "type": "string"
      }
    },
    "required": [
      "query",
      "id_shop",
      "page_number",
      "search_results",
      "visual_search",
      "visual_search_method",
      "ref_layout"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product List Filtered",
    "description": "filters category page or search results",
    "properties": {
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API - when filtered from category only",
        "type": "string"
      },
      "query": {
        "description": "search query string - when filtered from category only",
        "type": "string"
      },
      "active_filters": {
        "$ref": "#/definitions/active_filters0"
      },
      "price_filter_currency": {
        "description": "currency of price filter",
        "type": "string"
      }
    },
    "required": ["active_filters"],
    "additionalProperties": false,
    "definitions": {
      "active_filters0": {
        "name": "active_filters",
        "properties": {
          "size_filter": {
            "description": "filters by size",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "color_filter": {
            "description": "filters by color",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "price_filter_min": {
            "description": "filter by price range, minimum bound",
            "type": "number"
          },
          "price_filter_max": {
            "description": "filter by price range, maximum bound",
            "type": "number"
          },
          "category_filter": {
            "description": "filters by category",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "brand_filter": {
            "description": "filters by brand",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [],
        "additionalProperties": false
      }
    }
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Product List Sorted",
    "description": "sorts category page or search results",
    "properties": {
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "sort_by": {
        "description": "sorting condition",
        "type": "string"
      }
    },
    "required": [
      "id_site_category",
      "site_category_name",
      "id_shop",
      "sort_by"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Swatch Overlay Viewed",
    "description": "taps color swatch on category page and views overlay",
    "properties": {
      "id_site_category": {
        "description": "ID of the category the product is in, id_category returned by BFF API",
        "type": "integer"
      },
      "site_category_name": {
        "description": "name of the category, link_rewrite returned by BFF API",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_product": {
        "description": "ID of the product",
        "type": "string"
      }
    },
    "required": [
      "id_site_category",
      "site_category_name",
      "id_shop",
      "id_product"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Landing Page Viewed",
    "description": "views a landing page",
    "properties": {
      "name": {
        "description": "name of the landing page",
        "type": "string"
      },
      "ref_type": {
        "description": "CTA that leads to landing page",
        "type": "string"
      }
    },
    "required": ["name", "ref_type"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Cart Viewed",
    "description": "views bag",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "cart_subtotal": {
        "description": "total price in the bag",
        "type": "number"
      },
      "currency": {
        "description": "currency",
        "type": "string"
      },
      "cart_contents": {
        "description": "content of the cart, an array containing object of items in the cart",
        "type": "array",
        "items": {
          "$ref": "#/definitions/cart_contents0"
        }
      },
      "ref_type": {
        "description": "Optional, exists only in case of deeplink, string entered in Braze - if there's no query parameters the value falls back to 'external' (deeplink only)",
        "type": "string"
      },
      "ref_id": {
        "description": "campaign id or value given from braze specifically for ref_id",
        "type": "string"
      }
    },
    "required": [
      "id_shop",
      "cart_subtotal",
      "currency",
      "cart_contents",
      "ref_type",
      "ref_id"
    ],
    "additionalProperties": false,
    "definitions": {
      "cart_contents0": {
        "name": "cart_contents",
        "properties": {
          "id_product": {
            "description": "ID of the product",
            "type": "string"
          },
          "product_name": {
            "description": "name of the product",
            "type": "string"
          },
          "price": {
            "type": "number"
          },
          "quantity": {
            "description": "price of the product",
            "type": "integer"
          },
          "item_discount": {
            "description": "discount for the product",
            "type": "number"
          }
        },
        "required": ["id_product", "product_name", "price", "quantity"],
        "additionalProperties": false
      }
    }
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Checkout Started",
    "description": "clicks 'checkout' button - starts checkout",
    "properties": {
      "cart_subtotal": {
        "description": "total price in the cart",
        "type": "number"
      },
      "currency": {
        "description": "cenrency of the cart price",
        "type": "string"
      },
      "cart_contents": {
        "description": "content of the cart",
        "type": "array",
        "items": {
          "$ref": "#/definitions/cart_contents0"
        }
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": [
      "cart_subtotal",
      "currency",
      "cart_contents",
      "id_shop",
      "id_cart"
    ],
    "additionalProperties": false,
    "definitions": {
      "cart_contents0": {
        "name": "cart_contents",
        "properties": {
          "id_product": {
            "description": "ID of the product",
            "type": "integer"
          },
          "product_name": {
            "description": "name of the product",
            "type": "string"
          },
          "price": {
            "description": "price of the product",
            "type": "number"
          },
          "quantity": {
            "description": "quantity added",
            "type": "integer"
          },
          "item_discount": {
            "description": "discount amount on the product",
            "type": "number"
          }
        },
        "required": ["id_product", "product_name", "price", "quantity"],
        "additionalProperties": false
      }
    }
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Shipping Method Selected",
    "description": "chooses \"Deliver to my address\" shipping method",
    "properties": {
      "number_of_saved_addresses": {
        "description": "number of the saved addresses",
        "type": "integer"
      },
      "shipping_method_type": {
        "description": "shipping method",
        "type": "string"
      },
      "repeat_pick_up": {
        "description": "true if customer views recently-chosen pick-up locations. Only available when shipping method == 'Pomelo Pick Up'",
        "type": "boolean"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": [
      "number_of_saved_addresses",
      "shipping_method_type",
      "id_shop",
      "id_cart"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "New Address Added",
    "description": "fills out a new address and taps the \"Save\" button",
    "properties": {
      "number_of_saved_addresses": {
        "description": "number of the saved addresses after addiiton",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["number_of_saved_addresses", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Shipping Address Selected",
    "description": "selects an available shipping address",
    "properties": {
      "id_address": {
        "description": "number of the saved addresses",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["id_address", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Payment Method Selected",
    "description": "user selects a payment method",
    "properties": {
      "payment_method": {
        "description": "payment method - 'credit-card', 'pay-at-store', 'cash-on-delivery'",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["payment_method", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Credit Card Added",
    "description": "user adds a credit card",
    "properties": {
      "number_of_saved_credit_cards": {
        "description": "number of the saved credit card",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["number_of_saved_credit_cards", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Credit Card Selected",
    "description": "user selects an available credit card",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Add Credit Card Failed",
    "description": "user's card submission failed",
    "properties": {
      "number_of_saved_credit_cards": {
        "description": "number of the saved credit card",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["number_of_saved_credit_cards", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Pomelo Pickup List Interacted",
    "description": "enters the first letter in Search Bar",
    "properties": {
      "interaction_type": {
        "description": "type of the interaction - 'search', 'nearby'",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      },
      "query": {
        "description": "the query used to search for the pickup location",
        "type": "string"
      }
    },
    "required": ["interaction_type", "id_shop", "id_cart", "query"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Pomelo Pickup Location Selected",
    "description": "selects the location after viewing details and entering phone number",
    "properties": {
      "id_pickup_location": {
        "description": "ID of the pickup location selected",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      },
      "click_position": {
        "description": "the position of the item in the list the user clicked - starting at 1",
        "type": "integer"
      }
    },
    "required": ["id_pickup_location", "id_shop", "id_cart", "click_position"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Select Pick Up Payment",
    "description": "user selects the payment method section to choose the payment method out of the available methods",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Checkout Step Completed",
    "description": "completes a checkout step ",
    "properties": {
      "step_name": {
        "description": "the checkout step that completed - 'shipping method', 'payment method'",
        "type": "string"
      },
      "shipping_method_type": {
        "description": "shipping method - 'my_address', 'pickup",
        "type": "string"
      },
      "payment_method_type": {
        "description": "payment method - 'credit-card', 'pay-at-store', 'cash-on-delivery'",
        "type": "string"
      },
      "number_of_saved_cards": {
        "description": "number of the saved credit cards",
        "type": "integer"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": [
      "step_name",
      "shipping_method_type",
      "payment_method_type",
      "number_of_saved_cards",
      "id_shop",
      "id_cart"
    ],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Coupon Applied",
    "description": "Successfully applies a voucher",
    "properties": {
      "voucher_name": {
        "description": "voucher code",
        "type": "string"
      },
      "voucher_field": {
        "description": "DEPRECATED - the screen which the voucher is passed",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["voucher_name", "voucher_field", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Coupon Failed",
    "description": "voucher rejected",
    "properties": {
      "voucher_name": {
        "description": "voucher code",
        "type": "string"
      },
      "voucher_field": {
        "description": "DEPRECATED - the screen which the voucher is passed",
        "type": "string"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "id_cart": {
        "description": "ID of the cart sent by BFF API",
        "type": "integer"
      }
    },
    "required": ["voucher_name", "voucher_field", "id_shop", "id_cart"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Communication Preferences Updated",
    "description": "changes preferences for email/push/web/push",
    "properties": {
      "email_new_arrivals": {
        "description": "email notification for new arrivals toggled",
        "type": "boolean"
      },
      "email_promotions": {
        "description": "email notification for promotions toggled",
        "type": "boolean"
      },
      "push_promotions": {
        "description": "push notification for promotions toggled",
        "type": "boolean"
      },
      "push_order_updates": {
        "description": "push notification for the order update toggled",
        "type": "boolean"
      },
      "web_push_new_arrivals": {
        "description": "web push notification for new arrivals toggled",
        "type": "boolean"
      },
      "web_push_promotions": {
        "description": "web push notification for promotions",
        "type": "boolean"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      }
    },
    "required": ["id_shop"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "FAQ Icon Clicked",
    "description": "clicks on the FAQ icon",
    "properties": {
      "faq_icon_clicked": {
        "description": "",
        "type": "boolean"
      },
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      }
    },
    "required": ["faq_icon_clicked", "id_shop"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Order History Viewed",
    "description": "views order history from different locations",
    "properties": {
      "customer_id": {
        "description": "account ID",
        "type": "integer"
      },
      "ref_type": {
        "description": "CTA that triggers the order history view",
        "type": "string"
      }
    },
    "required": ["customer_id", "ref_type"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Order Details Viewed",
    "description": "views order detail page",
    "properties": {
      "id_customer": {
        "description": "account ID",
        "type": "integer"
      },
      "order_id": {
        "description": "ID of the order",
        "type": "integer"
      },
      "ref_type": {
        "description": "CTA that triggers the order detail view",
        "type": "string"
      }
    },
    "required": ["id_customer", "order_id", "ref_type"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Complete Loyalty Registration",
    "description": "registers for the loyalty program",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "signup_location": {
        "description": "location where triggers loyalty registration",
        "type": "string"
      }
    },
    "required": ["id_shop", "signup_location"],
    "additionalProperties": false,
    "definitions": {}
  },
  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "Cashback Earned",
    "description": "earns additional cashback\ntriggered when data entered in the DB: transaction_type = earned",
    "properties": {
      "id_shop": {
        "description": "ID of the shop unique by country",
        "type": "integer"
      },
      "order_id": {
        "description": "order - for loyalty, this ID is the corresponding NetSuite ID, and not the ERPLY order ID",
        "type": "string"
      },
      "detail": {
        "description": "value pulled from the DB",
        "type": "string"
      },
      "amount": {
        "description": "amount of the cashback point",
        "type": "number"
      },
      "currency": {
        "description": "currency of the cashback amount",
        "type": "string"
      },
      "store_name": {
        "description": "name of the store from NetSuite",
        "type": "string"
      }
    },
    "required": [
      "id_shop",
      "order_id",
      "detail",
      "amount",
      "currency",
      "store_name"
    ],
    "additionalProperties": false,
    "definitions": {}
  }
]
